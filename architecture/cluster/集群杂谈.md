
## 2. 集群总数一般是奇数

1. 容错率

集群需要是奇数

集群奇数是为了容错率, 

## 集群问题

1. 脑裂

   集群一般不能要求挂掉半数, 挂掉半数就全完了.

2. 容错率

   因为容错率问题, 一般要求机器节点需要是奇数.

   5台机器, 挂掉3台就不能用了.
   6台机器, 挂掉3台也不能用了.
   在不考虑性能的情况下, 6台机器相互之间传递消息更多, 挂掉3台的可能更大, 因此6台机器不如5台机器. 偶数台机器不如奇数台机器.

### 技术实现

#### 心跳

判断是否存活机制

zookeeper里面, 每隔tickTime时间就会发送一个心跳；最小的 session 过期时间为 2 倍 tickTime

#### 服务器编号

1. 通过配置文件配置服务器编号

   zookeeper 通过配置 myid 来配置服务器编号




2. 心跳





