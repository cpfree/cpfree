---
keys: 
type: blog
url: <>
id: 220216-213510
---

## java 四大特性

面向对象三大特性: 封装, 继承, 多态
java四大特性: 封装, 继承, 抽象, 多态

### 抽象

万物皆有抽象的特征，整个软件开发都是抽象，整个计算机体系也具备明显的抽象特征.

java是面向对象的语言, 在面向对象基础上又增加了一个`抽象`特性

抽象在java里面具象化之后简单来说就是 `抽象类`和`接口`

抽象和继承, 封装紧密联系, 甚至和多态也分不开, 

它比继承和多态稍微困难点, 但是有经验的开发者, 对抽象的使用也是相当稳定的.

**依赖倒置原则**: 简单来说, 就是面向接口编程, 面向抽象编程, 面向契约编程, 使用**依赖倒置原则**和抽象结合起来非常合适.

### 继承

继承有很多优点, 但是继承使用不当, 会造成耦合和复杂度高.

**里氏转换**简直就是专门为继承定制的法则, 里氏转换可以是我们能够在使用继承优点的前提下, 规避其缺点.

里氏转换来规约继承

1. 避免子类有自己的个性.
2. 避免重写方法, 尽量重写抽象
   - 子类只应该实现父类的抽象方法, 不应该实现成员方法.
   - 父类和子类的方法应该只有一个个性, 至少在同一个模块中, 父类想让子类实现方法, 就应该将方法设计为抽象方法, 那么子类就应该去实现这个抽象方法.
   - 如果是使用模块里面的方法的话, 可以实现方法之后让别人进行使用的时候进行重写方法, 但是最多只能重写一次.

> 一旦子类多次实现父类方法, 那么关系就变得复杂.
> 一旦子类有了自己独有的个性, 那么父子类关系就难以调和, 违背里氏转换.

### 多态

多态三要素

   1. 继承
   2. 重写
   3. 父类引用指向子类对象

多态分类

   多态又分为方法多态和参数多态.
   一般来说, 传统意义上的多态是指父类引用指向父类对象和不同的子类对象, 产生的行为不同.
   但后来将这种多态称为了**运行时多态**.
   又另起了一种编译时多态, 简单来说就是**方法的重写**.

   > 重载不应该是多态里面的, 顶多算是个语法糖

多态实现方式

   1. 重写
   2. 接口
   3. 抽象类和抽象方法

多态优点

   1. 可替换
   2. 可扩充
   3. 抽象和接口性.
   4. 简化开发

多态没有专用的设计原则, 它一个非常大的好处就是简化开发, 在java里面, 很多设计模式都是依照其进行完成的.

涉及模式

   1. 策略(简直是多态的亲儿子)
   2. 访问者
   3. 桥接

   评论设计模式的时候, 总是有人会将策略模式和各种乱七八糟的模式进行对比, 就是因为策略模式是用最简单的多态实现的. 而其它设计模式也是用多态实现的, 所以导致拿策略模式做各种对比.

### 封装

新手觉得最简单的是封装, 高手觉得最难的是封装, 封装是最基本的面向对象特性, 也是最难掌握的.

不像抽象和继承, 只要照着大致不变的思维去做就行了, 依赖倒置和里氏转换, 可以让抽象和继承变得相当六, 一般情况下不会出现各种问题.

封装优点

   1. 良好的封装能够减少耦合。
   2. 类内部的结构可以自由修改。
   3. 可以对成员变量进行更精确的控制。
   4. 隐藏信息，实现细节。

但是封装封不好, 直接会引起各种问题, 而且封装也不是说随随便便就可以很好地设计的.

1. 涉及模式

   - 接口隔离: 这个应该在封装里面.
   - 单一性职责: 只做一件事情
   - 迪米特法则(最少知道原则): 尽量少往外暴漏自己.

2. 封装封不好弊端

   - 调用困难, 但是继承和抽象, 解决或者是预防问题不大.
   - 更改困难, 这才是最恶心的, 一般来说系统都会各种改动, 业务逻辑可能一变再变, 抽象和继承都可以一次做的比较完美, 但是封装很难一次性做好.
   - 垃圾封装也可以正常的运行, 就是由于这个原因, 导致很多人都不重视封装, 代码的畸形, 屎山的堆积, 最终高楼的倒塌几乎都是由于封装导致的.

3. 实体封装
   - 数据库设计, 实际上数据库设计就是实体的封装, 若是数据库设计不好, ...后面具头疼.
   - 实体设计: 数据实体和业务实体的设计, 做不好就容易造成各路畸形和调用困难.
  
   > 当然为了解决这个问题, 可以通过DO, BO, DTO, AO 等分离层级, 使得数据库实体不会太过影响

4. 计算功能性设计

   最难的就是 `C/S` 段计算功能性设计, 甚至说很多人意识不到封装有多么重要, 就是因为没有做过`C/S`端开发或者是功能性开发.

   此处不是像数据库一样, 只有实体属性, 功能性开发里面还有`各种方法`, `各种算法`糅合在一起.

   我开发过好多功能, 也做个好几个APP, 首先封装封不好会导致后续持续开发困难.
   
   一般做完APP之后, 对代码进行调整, 最终发现继承等都没怎么动, 就是在改各种封装浪费时间, 而且巨浪费时间.
