# coding experience

## 代码书写感悟

1. 如果一个变量的定义是必须的, 同时业务逻辑比较复杂, 就统一放在方法上面去`声明`.

   ```java
   public Object functionDemo() {
      // 1. 变量检查
      // 2. 用到的变量定义(如果一个变量的定义是必须的, 就统一放在方法上面去定义)
      // 3. (可选) 定义lambda方法
      // 4. (可选) 处理掉特殊情况
      // 4. 逻辑
      // 5. (可选) 返回值检查
   }

   ```

2. 函数使用泛型的时候
   注意T和`Class<T>`之间的关系: 通过`Class<T>`可以转换为`T`, 但是通过T很难转换为`Class<T>`(虽然可以通过注解和反射通过T获取到`Class<T>`, 但这种方式不考虑)

   如果一个函数有`Class<T>`参数, 那么在调用的时候, `Class<T>` 是需要单独传入的对象, 那么在调用这个方法的时候就需要额外提供这个对象.

## 1. 父类或接口引用子类对象

> 依赖倒置原则,里氏转换原则

   ```java
   Map map = new HashMap<>();
   // ... 之后使用map操作
   ```

## 2. 早返回, 早排除掉情况

   ```java
   if () {
      return;
   }
   ```

## 3. 以通信的方式共享内存, 而不是以共享内存来通信

```java

public class A {

   private Object b;

   // 以共享内存来通信, 不要这样调用b
   public void func1() {
      System.out.println("正在使用b: " + b);
   }

   // 以通信的方式共享内存, 需要做到这样
   public void func2(Object b) {
      System.out.println("正在使用b: " + b);
   }

   // 可以考虑日志完全和变量区分开, 脱离业务逻辑
   public void func2(Object c) {
      System.out.println("正在使用: " + c);
   }

}

```