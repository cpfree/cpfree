遇到这种问题, 首先先不要尝试思考具体的方式, **先用算法找上下限**, 接下来不断通过验证和分析去缩短已经确定的上下限(因为你的上下限计算方式可能不对).

> 这里先给一个简单的题: `4个矿泉水瓶可以换一瓶矿泉水,现有15个矿泉水空瓶,不交钱最多喝多少矿泉水`
> 
> _碰到这种题, 先不要思考具体方式, 先用算法找下限_
>
> 因为: `4个瓶子 = 一瓶矿泉水 = 1个瓶子 + 水(一瓶)`, 
> 所以: `水(一瓶) = 3个空瓶`
> 之后很容易得出下限是 `15/3 = 5`
> 之后发现确实能达到这个下限, 所以答案是5.

---

# <font color="blue">第一题</font>: 64匹马，8赛道，找出跑得最快的4匹马，至少比赛9场

## 1. 试图找最低次数

> 假如 `A>B`, `B>C`, 我们称之为两对关系, 通过这两对关系, 我们就可以确定 `A>C`, 我们很容易得出想要确定 A,B,C 三者的关系, 至少需要确定它们两对关系.

64 匹马, 确定它们所有马之间的顺序, 至少需要多少对关系呢? 

- 答案是 63 对关系, 它们的顺序是一条长链, 很容易想象.

- 8个赛道一次最多只能给它们 7对 关系.

- 所以最少需要比赛 63 / 7 = 9(次).

因此, 至少 **9** 次比赛, 就可以确定出它们**所有马之间的顺序**关系.

## 2. 确定是否能够达到下限

实际上这个很容易想,

1. 先分8组赛8次, 决出8对的顺序, 每组淘汰掉后四名.
2. 从8组中挑一组, 称为第 X 组, 第 X 组的最后一名`X4`和剩余7组的第一名进行比赛.

   ![](https://gitee.com/cpfree/picture-warehouse/raw/master/pic/20210624161121.png)

之后根据它们的比赛结果判断需要比赛几次

   > 假设 `A1-G1` 比赛结果是 `A1>B1>C1>D1>E1>F1>G1`

- **9次情况**：如果`X4`第一名, 那么就立刻确定出 `X1, X2, X3, X4` 是最快的四匹马. 此时共赛了 `9` 次.

- **10次情况**：如果`X4`第二名, 如下图， 比A1高的只能是 `X1, X2, X3`，所以`A1`最差也能得第四，所以`A1`必定在最快的四匹马之中。`X4`前面有`X1, X2, X3`, 再加上个`A1`， 因此 `X4` 最高得第5名， `X4` 以及它后面的马直接淘汰，剩余最快的三匹马只可能在  `X1, X2, X3`， `A2,A3,A4` 中产生， 因此再加赛一次， 就可以决出前4名。此时共赛了 `10` 次.
   
   > ![](https://gitee.com/cpfree/picture-warehouse/raw/master/pic/20210624161130.png)
   
- **11次情况**：如果`X4`第三名， 第四名， 以及第四名之后， 那么情况如下面图片所示，图中被红框框中的是需要再次比赛的马，被马赛克模糊的是被淘汰的马, 从图中可见，需要再次比赛的马在 `9~12`匹之间, 均需要赛两次才能决出另外最快的三匹马. 此时共需要赛`11`次
   > `X4`第3名:
   > ![`X4`第3名](https://gitee.com/cpfree/picture-warehouse/raw/master/pic/20210624161140.png)
   > `X4`第4名:
   > ![`X4`第4名](https://gitee.com/cpfree/picture-warehouse/raw/master/pic/20210624161145.png)
   > `X4`第4名之后:
   > ![`X4`第4名之后](https://gitee.com/cpfree/picture-warehouse/raw/master/pic/20210624161152.png)

## <font color="blue">第二题</font>: 思考, 64 匹马，8赛道，至少比赛几场, <font color="red">一定能</font>找出跑得最快的 4 匹马，

先附一个我之前的论述

> 1. 先分 8 组赛 8 次, 每组淘汰掉后四名
> 2. 第9次由每组第一名进行一次比赛，然后淘汰最后四名所在组的所有马
> 3. 此时第一名已经产生, 2,3,4 名只能在 `A2,A3,A4,B1,B2,B3,C1,C2,D1` 9 匹马 中产生.
>    ![](https://gitee.com/cpfree/picture-warehouse/raw/master/pic/20210624161159.png)
>
> 4. 第10次比赛由A4, 和B2比
>    - 如果A4赢了B2, 那么A1-A4就是前四名, 此时需要10场.
>    - 如果A4输了B2, A4淘汰, 剩余8匹马再赛一次决出前4名, 此时需要11场.
>
> 但是 `11` 这个答案能不能再降一下呢?
> 上图里面的7个红色箭头, 代表7个关系, 实际上在前9次比赛中就已经获得这7个关系了, 
> 9匹马, 8个赛道, 赛两次, 有一次非常浪费赛道的价值, 

上面的论证表明 11 场比赛一定能够找出跑得最快的 4 匹马.

那么这道题的答案是`11`吗?

老实说, 这道题的答案我不确定, 最终结果未必是11次! 但我知道这道题的答案, 要么是10, 要么是11.

1. 依照第一题的分析, 要想把64匹马全部关联起来, 至少需要63个关系, 一次赛马能给7个关系, 所以下限是9次, 也就是说, 答案必定大于等于 9

2. 然而9次比赛的情况只是将它们关联起来, 要想确定找出前4匹马, 9次肯定不够, 因此很容易判断, 下限是10, 也就是说, 答案必定大于等于 10

3. 接下来试图找`10次能够一定能够找出前4匹马的方法`, 结果并没有找到, 找到的是 `11次`, 所以上限是 `11`, 也就是说, 答案必定在 `[10, 11]` 中.

4. 接下来需要做的是
   - **证明10次比赛不能绝对找出最快的4匹马**: 如果成功, 则答案是`11`
   - **找出10次能够一定能够找出前4匹马的方法**: 如果成功, 则答案是`10`

奈何本人智商不够, 捣鼓了好久, 一个都没有找出来.

如果大家有10次就能确定找出最快4匹马的方法, 欢迎进行交流回复.



