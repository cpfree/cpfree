# 设计思想总结

## 工具化, 可替代

   无论使用一个类库如json, 还是使用一个缓存中间件redis, 不要让其重构你的功能, 而是要像使用一个工具一样

   如果时间充足可以通过适配器, 或者是桥接的方式使用工具, 时间不充足也要注意一下使用工具的时候要做到工具分离.

   如使用json的时候, 选择了fastjson, 最好不要在代码里面直接使用 fastjson 中的JSON类, 这样不想用fastjson了, 字节替换为jackson就非常方便

   使用redis的时候, 可注意封装一个使用API, 这样即便是以后需要替换成其它的中间件, 都是非常方便的.

## 功能别做无关的事情, 功能依赖方法名设计, 而不是方法名依赖功能设计

   程序员开发的时候优先是依照方法名开发的, 尤其是公司内部写的代码, 开发人员不会说是见到一个方法, 都去看它的注释甚至源码的, 开发人员第一个看到的就是方法名.

   方法名写清楚, 哪怕是很长也没什么关系.

   实在不行, 注释一定要打好.

   一个非常好的方法就是, 看到方法名就能知道方法内部做了什么. 方法是干什么用的.

> 错误设计 redis 里面的 incr, 在增长+1的同时, 若是key不存在就擅自添加一个key并设置为0, 而且过期时间还是永久的, 
> 单单这个擅自加个永久key, 有多少程序员在此编写出了bug代码.


